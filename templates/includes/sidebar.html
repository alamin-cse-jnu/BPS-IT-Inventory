{% load static %}
<nav class="sidebar" id="sidebar">
    <div class="p-3">
        <!-- Dashboard -->
        <ul class="nav nav-pills flex-column mb-3">
            <li class="nav-item">
                <a class="nav-link {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}" 
                   href="{% url 'inventory:dashboard' %}">
                    <i class="bi bi-speedometer2 me-2"></i>
                    <span class="nav-text">Dashboard</span>
                </a>
            </li>
        </ul>
        
        <!-- Inventory Management -->
        <div class="mb-3">
            <h6 class="text-white-50 text-uppercase small px-3 mb-2">Inventory</h6>
            <ul class="nav nav-pills flex-column">
                <li class="nav-item">
                    <a class="nav-link {% if 'device' in request.resolver_match.url_name %}active{% endif %}" 
                       href="{% url 'inventory:device_list' %}">
                        <i class="bi bi-laptop me-2"></i>
                        <span class="nav-text">Devices</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% if 'assignment' in request.resolver_match.url_name %}active{% endif %}" 
                       href="{% url 'inventory:assignment_list' %}">
                        <i class="bi bi-person-check me-2"></i>
                        <span class="nav-text">Assignments</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% if 'maintenance' in request.resolver_match.url_name %}active{% endif %}" 
                       href="{% url 'inventory:maintenance_list' %}">
                        <i class="bi bi-tools me-2"></i>
                        <span class="nav-text">Maintenance</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% if 'location' in request.resolver_match.url_name %}active{% endif %}" 
                       href="{% url 'inventory:location_list' %}">
                        <i class="bi bi-geo-alt me-2"></i>
                        <span class="nav-text">Locations</span>
                    </a>
                </li>
            </ul>
        </div>
        
        <!-- People & Organization -->
        <div class="mb-3">
            <h6 class="text-white-50 text-uppercase small px-3 mb-2">People</h6>
            <ul class="nav nav-pills flex-column">
                <li class="nav-item">
                    <a class="nav-link {% if 'staff' in request.resolver_match.url_name %}active{% endif %}" 
                       href="{% url 'inventory:staff_list' %}">
                        <i class="bi bi-people me-2"></i>
                        <span class="nav-text">Staff</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% if 'department' in request.resolver_match.url_name %}active{% endif %}" 
                       href="{% url 'inventory:department_list' %}">
                        <i class="bi bi-building me-2"></i>
                        <span class="nav-text">Departments</span>
                    </a>
                </li>
            </ul>
        </div>
        
        <!-- QR Code Management -->
        <div class="mb-3">
            <h6 class="text-white-50 text-uppercase small px-3 mb-2">QR Codes</h6>
            <ul class="nav nav-pills flex-column">
                <li class="nav-item">
                    <a class="nav-link {% if request.resolver_match.namespace == 'qr_management' %}active{% endif %}" 
                       href="{% url 'qr_management:qr_list' %}">
                        <i class="bi bi-qr-code me-2"></i>
                        <span class="nav-text">QR Codes</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'qr_management:bulk_generate' %}">
                        <i class="bi bi-qr-code-scan me-2"></i>
                        <span class="nav-text">Generate QR</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'qr_management:scan' %}">
                        <i class="bi bi-camera me-2"></i>
                        <span class="nav-text">Scan QR</span>
                    </a>
                </li>
            </ul>
        </div>
        
        <!-- Reports & Analytics -->
        <div class="mb-3">
            <h6 class="text-white-50 text-uppercase small px-3 mb-2">Reports</h6>
            <ul class="nav nav-pills flex-column">
                <li class="nav-item">
                    <a class="nav-link {% if request.resolver_match.namespace == 'reports' %}active{% endif %}" 
                       href="{% url 'reports:dashboard' %}">
                        <i class="bi bi-graph-up me-2"></i>
                        <span class="nav-text">Analytics</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'reports:device_report' %}">
                        <i class="bi bi-file-earmark-text me-2"></i>
                        <span class="nav-text">Device Reports</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'reports:assignment_report' %}">
                        <i class="bi bi-file-earmark-person me-2"></i>
                        <span class="nav-text">Assignment Reports</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'reports:maintenance_report' %}">
                        <i class="bi bi-file-earmark-bar-graph me-2"></i>
                        <span class="nav-text">Maintenance Reports</span>
                    </a>
                </li>
            </ul>
        </div>
        
        <!-- Configuration -->
        {% if user.is_staff %}
        <div class="mb-3">
            <h6 class="text-white-50 text-uppercase small px-3 mb-2">Configuration</h6>
            <ul class="nav nav-pills flex-column">
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'inventory:vendor_list' %}">
                        <i class="bi bi-shop me-2"></i>
                        <span class="nav-text">Vendors</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'inventory:category_list' %}">
                        <i class="bi bi-tags me-2"></i>
                        <span class="nav-text">Categories</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'authentication:user_list' %}">
                        <i class="bi bi-person-gear me-2"></i>
                        <span class="nav-text">User Management</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'admin:index' %}">
                        <i class="bi bi-gear me-2"></i>
                        <span class="nav-text">Admin Panel</span>
                    </a>
                </li>
            </ul>
        </div>
        {% endif %}
        
        <!-- Help & Support -->
        <div class="mb-3">
            <h6 class="text-white-50 text-uppercase small px-3 mb-2">Support</h6>
            <ul class="nav nav-pills flex-column">
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'system:help' %}">
                        <i class="bi bi-question-circle me-2"></i>
                        <span class="nav-text">Help</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'system:api_docs' %}">
                        <i class="bi bi-book me-2"></i>
                        <span class="nav-text">API Docs</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'system:system_status' %}">
                        <i class="bi bi-activity me-2"></i>
                        <span class="nav-text">System Status</span>
                    </a>
                </li>
            </ul>
        </div>
    </div>
    
    <!-- Sidebar Footer -->
    <div class="mt-auto p-3 border-top border-white border-opacity-25">
        <div class="text-white-50 small text-center">
            <div>BPS IT Inventory v1.0</div>
            <div>&copy; 2025 Md. Al-Amin Hossain</div>
        </div>
    </div>
</nav>

<style>
.sidebar .nav-text {
    transition: opacity 0.3s ease;
}

.sidebar.collapsed .nav-text {
    opacity: 0;
    position: absolute;
    left: -9999px;
}

.sidebar.collapsed {
    overflow: visible;
}

.sidebar.collapsed .nav-link {
    text-align: center;
    padding: 0.75rem 0.5rem;
}

.sidebar.collapsed .nav-link i {
    font-size: 1.2rem;
}

.sidebar.collapsed h6 {
    display: none;
}

.sidebar.collapsed .border-top {
    display: none;
}

@media (max-width: 768px) {
    .sidebar {
        overflow-y: auto;
    }
    
    .sidebar .nav-text {
        opacity: 1 !important;
        position: static !important;
    }
}
</style>